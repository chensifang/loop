<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>iOS 问题合集</title>
    <link rel="stylesheet" href="/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/github.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/languages/swift.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/languages/cpp.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/languages/objectivec.min.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            document.querySelectorAll('pre code').forEach((block) => {
                hljs.highlightElement(block);
            });
        });
    </script>
</head>
<body>
    <div class="container wide">
        <h1>iOS 问题合集</h1>
        <p class="subtitle">本文档收集所有 iOS 面试题，用于面试准备。题目按技术领域分类整理。</p>
        
        <table>
            <thead>
                <tr>
                    <th>技术领域</th>
                    <th>子分类</th>
                    <th>题目</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td class="category" rowspan="6">内存管理</td>
                    <td class="subcategory">ARC 内存管理与循环引用</td>
                    <td class="questions">1. ✅ 简述 ARC（自动引用计数）的工作原理<br>2. ✅ 什么情况下会产生循环引用？如何解决？<br>3. ✅ weak 和 unowned 的区别是什么？分别在什么场景下使用？<br>4. 如何检测内存泄漏？<br>5. autoreleasepool 的作用是什么？什么时候需要使用？</td>
                </tr>
                <tr>
                    <td class="subcategory">weak 属性的实现原理</td>
                    <td class="questions">1. ✅ weak 关键字是如何实现的？<br>2. weak 引用在对象释放时如何自动置为 nil？<br>3. Side Table 是什么？它如何工作？<br>4. weak 和 unowned 在底层实现上有什么区别？<br>5. 为什么 weak 引用必须是可选类型？</td>
                </tr>
                <tr>
                    <td class="subcategory">autoreleasepool 的工作原理</td>
                    <td class="questions">1. autoreleasepool 的作用是什么？<br>2. autoreleasepool 在什么时候释放对象？<br>3. @autoreleasepool 在什么场景下需要使用？<br>4. autoreleasepool 与 RunLoop 的关系是什么？<br>5. 在循环中创建大量临时对象时，如何使用 autoreleasepool 优化？</td>
                </tr>
                <tr>
                    <td class="subcategory">内存布局与底层实现</td>
                    <td class="questions">1. iOS 对象的内存布局是怎样的？<br>2. ISA 指针的结构是什么？它如何存储引用计数？<br>3. Tagged Pointer 是什么？它的作用是什么？<br>4. 引用计数是如何存储的？什么时候使用 Side Table？<br>5. 内存对齐的规则是什么？为什么要内存对齐？<br>6. 堆内存和栈内存的区别是什么？对象存储在哪个区域？<br>7. 虚拟内存机制是什么？iOS 如何管理虚拟内存？<br>8. 内存分页机制是什么？页大小是多少？</td>
                </tr>
                <tr>
                    <td class="subcategory">Side Table 与引用计数底层</td>
                    <td class="questions">1. Side Table 的结构是什么？它包含哪些成员？<br>2. 引用计数什么时候存储在 ISA 指针中？什么时候存储在 Side Table？<br>3. Side Table 的查找过程是怎样的？如何定位到对应的 Side Table？<br>4. weak 表的三层哈希查询过程是什么？<br>5. Side Table 的线程安全是如何保证的？<br>6. 引用计数的溢出处理机制是什么？</td>
                </tr>
                <tr>
                    <td class="subcategory">内存优化与性能</td>
                    <td class="questions">1. 如何优化内存使用？减少内存峰值的方法有哪些？<br>2. 内存压缩（Compressed Memory）机制是什么？<br>3. Jetsam 机制是什么？它如何回收内存？<br>4. 内存警告（Memory Warning）的处理机制是什么？<br>5. 如何监控和优化 App 的内存使用？<br>6. 内存泄漏和内存溢出的区别是什么？</td>
                </tr>
                <tr>
                    <td class="category" rowspan="2">多线程</td>
                    <td class="subcategory">GCD 多线程与 RunLoop</td>
                    <td class="questions">1. GCD 的队列类型有哪些？各自的特点是什么？<br>2. 同步和异步的区别是什么？串行队列和并发队列的区别？<br>3. RunLoop 的作用是什么？与线程的关系？<br>4. 如何避免 GCD 死锁？<br>5. dispatch_group、dispatch_semaphore、dispatch_barrier 分别用于什么场景？<br>6. RunLoop 的 Mode 有哪些？各自的作用是什么？<br>7. NSTimer 在子线程中为什么不工作？如何解决？<br>8. performSelector:afterDelay: 在子线程中是否起作用？</td>
                </tr>
                <tr>
                    <td class="subcategory">NSOperation 与 GCD 的区别</td>
                    <td class="questions">1. NSOperation 和 GCD 的区别是什么？<br>2. 什么时候使用 NSOperation，什么时候使用 GCD？<br>3. NSOperationQueue 如何控制并发数？<br>4. NSOperation 的依赖关系如何设置？<br>5. 如何取消 NSOperation？<br>6. NSOperation 的状态有哪些？</td>
                </tr>
                <tr>
                    <td class="category" rowspan="3">Swift 基础</td>
                    <td class="subcategory">Swift 中 Class 与 Struct 的区别</td>
                    <td class="questions">1. Class 和 Struct 的主要区别是什么？<br>2. 什么时候使用 Class，什么时候使用 Struct？<br>3. 值类型和引用类型的区别？<br>4. Copy-on-Write 机制是什么？Swift 中哪些类型使用了这个机制？<br>5. Struct 和 Class 在内存中的存储位置有什么不同？<br>6. 为什么 Swift 推荐优先使用 Struct？</td>
                </tr>
                <tr>
                    <td class="subcategory">Swift 可选类型与解包</td>
                    <td class="questions">1. Optional 的本质是什么？<br>2. 可选类型有哪几种解包方式？各自的使用场景？<br>3. guard let 和 if let 的区别是什么？<br>4. 可选链（Optional Chaining）的工作原理？<br>5. ?? 空合并运算符的作用是什么？<br>6. 隐式解包可选类型（Implicitly Unwrapped Optional）什么时候使用？</td>
                </tr>
                <tr>
                    <td class="subcategory">Swift 协议与扩展</td>
                    <td class="questions">1. 协议（Protocol）在 Swift 中的作用是什么？<br>2. 协议扩展（Protocol Extension）如何实现默认实现？<br>3. 协议中的 associatedtype 是什么？如何使用？<br>4. 协议的继承和组合有什么区别？<br>5. 如何让协议只能被类遵循（class-only protocol）？<br>6. 协议扩展中的 where 子句的作用是什么？</td>
                </tr>
                <tr>
                    <td class="category" rowspan="2">UI 框架</td>
                    <td class="subcategory">UIView 与 CALayer 的关系</td>
                    <td class="questions">1. UIView 和 CALayer 是什么关系？<br>2. 为什么要有 CALayer？它解决了什么问题？<br>3. frame、bounds、center 的区别是什么？<br>4. 什么时候应该直接操作 CALayer？<br>5. UIView 和 CALayer 在职责上有什么不同？<br>6. 修改 bounds 的 origin 会有什么效果？</td>
                </tr>
                <tr>
                    <td class="subcategory">Auto Layout 与 Frame 布局</td>
                    <td class="questions">1. Auto Layout 的工作原理是什么？<br>2. Auto Layout 的性能如何？什么时候会影响性能？<br>3. 约束冲突（Constraint Conflict）如何解决？<br>4. 优先级（Priority）在约束中的作用是什么？<br>5. 什么时候使用 Auto Layout，什么时候使用 Frame 布局？<br>6. intrinsicContentSize 的作用是什么？</td>
                </tr>
                <tr>
                    <td class="category" rowspan="2">性能优化</td>
                    <td class="subcategory">UITableView 性能优化</td>
                    <td class="questions">1. 造成 UITableView 卡顿的原因有哪些？<br>2. 如何提升 UITableView 的流畅度？<br>3. 什么是离屏渲染？如何避免？<br>4. 如何优化 Cell 的复用机制？<br>5. 图片加载如何优化？<br>6. 如何检测和解决滚动时的卡顿问题？</td>
                </tr>
                <tr>
                    <td class="subcategory">App 启动优化</td>
                    <td class="questions">1. App 启动的流程是什么？<br>2. 启动时间应从哪些方面优化？<br>3. 冷启动和热启动的区别是什么？<br>4. 如何测量 App 的启动时间？<br>5. +load 和 +initialize 的区别？对启动性能的影响？<br>6. 如何减少启动时的动态库加载时间？</td>
                </tr>
                <tr>
                    <td class="category" rowspan="2">Runtime</td>
                    <td class="subcategory">Runtime 基础</td>
                    <td class="questions">1. Runtime 是什么？它的作用是什么？<br>2. Objective-C 的消息机制是如何实现的？<br>3. isa 指针是什么？它指向哪里？<br>4. 对象、类对象、元类的关系是什么？<br>5. class_rw_t 和 class_ro_t 的区别是什么？<br>6. 消息转发（Message Forwarding）的流程是什么？<br>7. Method Swizzling 是什么？有什么应用场景？<br>8. 关联对象（Associated Objects）的原理是什么？如何实现？</td>
                </tr>
                <tr>
                    <td class="subcategory">Runtime 内存模型</td>
                    <td class="questions">1. Side Table 的结构是什么？它存储了什么？<br>2. weak 表是如何实现的？<br>3. 对象的内存布局是怎样的？<br>4. 如何获取一个类的所有属性和方法？<br>5. Category 的实现原理是什么？<br>6. load 和 initialize 的区别是什么？调用时机？<br>7. 如何动态添加方法和属性？</td>
                </tr>
                <tr>
                    <td class="category" rowspan="2">KVO / KVC</td>
                    <td class="subcategory">KVO 原理</td>
                    <td class="questions">1. KVO（Key-Value Observing）的实现原理是什么？<br>2. KVO 是如何实现自动通知的？<br>3. 如何手动触发 KVO？<br>4. KVO 的优缺点是什么？<br>5. KVO 和通知（Notification）的区别是什么？<br>6. KVO 在什么情况下会失效？</td>
                </tr>
                <tr>
                    <td class="subcategory">KVC 原理</td>
                    <td class="questions">1. KVC（Key-Value Coding）的实现原理是什么？<br>2. valueForKey: 的查找流程是什么？<br>3. setValue:forKey: 的查找流程是什么？<br>4. KVC 的优缺点是什么？<br>5. KVC 如何访问私有属性？<br>6. KVC 和直接访问属性的性能差异？</td>
                </tr>
                <tr>
                    <td class="category" rowspan="4">网络编程</td>
                    <td class="subcategory">HTTP / HTTPS</td>
                    <td class="questions">1. HTTP 和 HTTPS 的区别是什么？<br>2. HTTPS 的连接建立流程是什么？<br>3. SSL/TLS 握手过程是怎样的？<br>4. 什么是中间人攻击？如何防护？<br>5. 证书固定（Certificate Pinning）是什么？如何实现？<br>6. HTTP/1.1、HTTP/2、HTTP/3 的区别是什么？</td>
                </tr>
                <tr>
                    <td class="subcategory">TCP / UDP</td>
                    <td class="questions">1. TCP 和 UDP 的区别是什么？<br>2. TCP 三次握手的过程是什么？<br>3. TCP 四次挥手的过程是什么？<br>4. 为什么需要三次握手？两次可以吗？<br>5. 为什么需要四次挥手？三次可以吗？<br>6. TCP 的流量控制和拥塞控制是什么？</td>
                </tr>
                <tr>
                    <td class="subcategory">Socket / WebSocket</td>
                    <td class="questions">1. Socket 和 HTTP 的区别是什么？<br>2. Socket 长连接如何保持？<br>3. WebSocket 是什么？和 HTTP 的区别？<br>4. 如何实现一个 Socket 长连接？<br>5. 心跳包的作用是什么？如何实现？</td>
                </tr>
                <tr>
                    <td class="subcategory">URLSession</td>
                    <td class="questions">1. URLSession 的请求流程是什么？<br>2. URLSession 的缓存策略有哪些？<br>3. 如何实现断点续传？<br>4. 如何处理网络请求的取消和重试？<br>5. 如何实现请求的优先级控制？</td>
                </tr>
                <tr>
                    <td class="category" rowspan="4">数据持久化</td>
                    <td class="subcategory">Core Data</td>
                    <td class="questions">1. Core Data 的架构是什么？各个组件的作用？<br>2. NSManagedObjectContext 的作用是什么？<br>3. Core Data 的线程安全如何保证？<br>4. Core Data 和 SQLite 的区别是什么？<br>5. 如何优化 Core Data 的查询性能？<br>6. Core Data 的迁移策略有哪些？</td>
                </tr>
                <tr>
                    <td class="subcategory">SQLite</td>
                    <td class="questions">1. SQLite 的特点和优势是什么？<br>2. SQLite 的 ACID 特性是什么？<br>3. FMDB 是什么？如何使用？<br>4. SQLite 的索引如何优化？<br>5. SQLite 的事务如何使用？<br>6. SQLite 的并发访问如何保证？</td>
                </tr>
                <tr>
                    <td class="subcategory">SwiftData</td>
                    <td class="questions">1. SwiftData 和 Core Data 的区别是什么？<br>2. 什么时候使用 SwiftData？什么时候使用 Core Data？<br>3. SwiftData 的优势是什么？<br>4. SwiftData 如何与 SwiftUI 集成？</td>
                </tr>
                <tr>
                    <td class="subcategory">其他持久化方案</td>
                    <td class="questions">1. UserDefaults 的使用场景和限制？<br>2. Keychain 的作用是什么？如何存储敏感数据？<br>3. 文件存储的方式有哪些？<br>4. 如何选择合适的数据持久化方案？</td>
                </tr>
                <tr>
                    <td class="category" rowspan="4">算法与数据结构</td>
                    <td class="subcategory">基础算法</td>
                    <td class="questions">1. 常用的排序算法有哪些？各自的时间复杂度？<br>2. 快速排序的实现原理？<br>3. 二分查找的实现和边界条件？<br>4. 如何判断一个链表是否有环？<br>5. 如何反转一个链表？<br>6. 如何找到两个链表的交点？</td>
                </tr>
                <tr>
                    <td class="subcategory">树与图</td>
                    <td class="questions">1. 二叉树的遍历方式有哪些？<br>2. 如何判断一棵树是否是平衡二叉树？<br>3. 如何找到二叉树的最大深度？<br>4. 如何实现二叉树的序列化和反序列化？<br>5. 图的遍历算法有哪些？</td>
                </tr>
                <tr>
                    <td class="subcategory">字符串处理</td>
                    <td class="questions">1. 如何实现字符串反转？<br>2. 如何判断两个字符串是否是变位词？<br>3. KMP 算法的原理是什么？<br>4. 如何实现字符串匹配？</td>
                </tr>
                <tr>
                    <td class="subcategory">动态规划</td>
                    <td class="questions">1. 动态规划的核心思想是什么？<br>2. 如何识别一个问题是否可以用动态规划解决？<br>3. 最长公共子序列问题如何解决？<br>4. 背包问题的动态规划解法？</td>
                </tr>
                <tr>
                    <td class="category" rowspan="3">设计模式与架构</td>
                    <td class="subcategory">MVC / MVVM / MVP</td>
                    <td class="questions">1. MVC 模式的特点和优缺点是什么？<br>2. MVVM 模式相比 MVC 的优势是什么？<br>3. MVP 模式的特点是什么？<br>4. 如何给胖控制器减负？<br>5. 如何选择合适的架构模式？</td>
                </tr>
                <tr>
                    <td class="subcategory">常见设计模式</td>
                    <td class="questions">1. 单例模式的实现方式有哪些？各自的优缺点？<br>2. 观察者模式的实现方式有哪些？（KVO、通知、代理）<br>3. 委托模式（Delegate）的实现原理？<br>4. 工厂模式的应用场景？<br>5. 策略模式在 iOS 开发中的应用？<br>6. 适配器模式的应用场景？</td>
                </tr>
                <tr>
                    <td class="subcategory">组件化架构</td>
                    <td class="questions">1. 组件化的优势是什么？<br>2. 组件化的三层架构是什么？<br>3. 组件间通信的方案有哪些？<br>4. URL-Scheme 路由的实现原理？<br>5. Protocol 协议方案如何实现组件解耦？<br>6. Target-Action 方案的实现原理？<br>7. 如何避免组件间的循环依赖？</td>
                </tr>
                <tr>
                    <td class="category" rowspan="2">图片加载与缓存</td>
                    <td class="subcategory">SDWebImage 原理</td>
                    <td class="questions">1. SDWebImage 的三级缓存机制是什么？<br>2. 内存缓存是如何实现的？<br>3. 磁盘缓存的存储策略是什么？<br>4. 如何防止重复下载同一张图片？<br>5. 图片下载失败后如何处理？<br>6. SDWebImage 如何实现异步解码？<br>7. 如何自定义缓存大小和过期时间？</td>
                </tr>
                <tr>
                    <td class="subcategory">图片优化</td>
                    <td class="questions">1. 图片加载的性能优化策略有哪些？<br>2. 如何避免图片加载时的内存峰值？<br>3. 图片压缩的方式有哪些？<br>4. 如何计算图片加载到内存后的大小？<br>5. 如何实现图片的渐进式加载？<br>6. WebP 格式的优势是什么？</td>
                </tr>
                <tr>
                    <td class="category" rowspan="2">事件响应链</td>
                    <td class="subcategory">触摸事件</td>
                    <td class="questions">1. 事件响应链（Responder Chain）是什么？<br>2. Hit Testing 的工作原理是什么？<br>3. UIResponder 是什么？哪些类继承自它？<br>4. 第一响应者（First Responder）是什么？<br>5. 事件在响应链中是如何传递的？<br>6. 如何自定义事件响应？<br>7. pointInside:withEvent: 方法的作用是什么？</td>
                </tr>
                <tr>
                    <td class="subcategory">手势识别</td>
                    <td class="questions">1. 手势识别器（Gesture Recognizer）的工作原理？<br>2. 手势识别和触摸事件的关系？<br>3. 如何自定义手势识别器？<br>4. 多个手势识别器如何协调工作？<br>5. 手势识别器的优先级如何设置？</td>
                </tr>
            </tbody>
        </table>
        
        <div class="changelog">
            <h2>更新日志</h2>
            <ul>
                <li>2025-02-14: 初始版本，整理 iOS 高频面试题</li>
                <li>2025-02-14: 补充 Runtime、KVO/KVC、网络编程、数据持久化、算法等大厂高频面试题</li>
                <li>2025-02-14: 补充设计模式、架构设计、组件化、图片加载、事件响应链等面试题</li>
                <li>2025-02-14: 改为表格汇总格式，便于查看和管理</li>
                <li>2025-02-14: 改为 Markdown 表格格式，代码更简洁</li>
            </ul>
        </div>
    </div>
</body>
</html>
